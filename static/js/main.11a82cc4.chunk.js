(this["webpackJsonpnetflix-app-lists"]=this["webpackJsonpnetflix-app-lists"]||[]).push([[0],{14:function(e,t,n){e.exports=n.p+"static/media/Netflix-Logo.f0fb0ac0.png"},15:function(e,t,n){e.exports=n(26)},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(4),c=n.n(i),l=n(5),o=n(2),s=n(12),m=n(13),u=n(3),d=n(1);function f(){return function(e){e({type:"FETCH_PENDING"}),fetch("https://4612cd5d-6a03-4ed3-b98d-572baf71b15b.mock.pstmn.io/netflix_mylist").then((function(e){return e.json()})).then((function(t){if(t.error)throw t.error;var n;return e({type:"FETCH_SUCCESS",list:(n=t).mylist,recommendation:n.recommendations}),t})).catch((function(t){e(function(e){return{type:"FETCH_ERROR",error:e}}(t))}))}}function E(e){return{type:"REMOVE_FROM_MY_LIST",id:e}}function p(e){return{type:"ADD_TO_MY_LIST",id:e}}var b={pending:!1,list:[],recommendation:[],error:null};var O=Object(o.c)({fetchData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ERROR":return Object(d.a)(Object(d.a)({},e),{},{pending:!1,error:t.error});case"FETCH_PENDING":return Object(d.a)(Object(d.a)({},e),{},{pending:!0});case"FETCH_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{pending:!1,list:t.list,recommendation:t.recommendation});case"REMOVE_FROM_MY_LIST":var n=t.id,r=e.list.filter((function(e){return e.id===n}));return Object(d.a)(Object(d.a)({},e),{},{list:e.list.filter((function(e){return e.id!==n})),recommendation:[].concat(Object(u.a)(e.recommendation),Object(u.a)(r))});case"ADD_TO_MY_LIST":var a=t.id,i=e.recommendation.filter((function(e){return e.id===a}));return Object(d.a)(Object(d.a)({},e),{},{recommendation:e.recommendation.filter((function(e){return e.id!==a})),list:[].concat(Object(u.a)(e.list),Object(u.a)(i))});default:return e}}}),h=Object(m.createLogger)();var y=function(e){return e.fetchData.list},v=function(e){return e.fetchData.recommendation},g=function(e){return e.fetchData.pending},j=function(e){return e.fetchData.error};function T(e){return"titleOnly"!==e.eventType?a.a.createElement("div",{className:"myList"},e.list.map((function(t){return a.a.createElement("figure",{key:t.id,className:"figure-mylist"},a.a.createElement("img",{src:t.img,alt:t.id}),a.a.createElement("figcaption",null,t.title),a.a.createElement("button",{className:"btn",onClick:function(){return e.handleClick(t.id)}},"delete"===e.eventType?"Remove":"Add"))}))):e.list.map((function(e){return a.a.createElement("a",{key:e.id,href:"/#"},e.title)}))}var _=n(14),L=n.n(_);var C,M=Object(l.b)((function(e){return{pending:g(e),list:y(e),recommendation:v(e),error:j(e)}}),(function(e){return Object(o.b)({fetchList:f,deleteMyList:E,addToMyList:p},e)}))((function(e){var t=e.fetchList,n=e.list,i=e.error,c=e.recommendation,l=e.pending,o=e.deleteMyList,s=e.addToMyList;return Object(r.useEffect)((function(){t()}),[t]),l?a.a.createElement("p",null,"Pending..."):i?a.a.createElement("p",null,"Loading Error! ",i.message):a.a.createElement("div",null,a.a.createElement("div",{className:"bar"},a.a.createElement("img",{src:L.a,alt:"netflix-icon"})),a.a.createElement("div",{className:"list-header"},a.a.createElement("h2",null,"My List")),a.a.createElement(T,{list:n,handleClick:o,eventType:"delete"}),a.a.createElement("div",{className:"list-header"},a.a.createElement("h2",null,"Recommandation")),a.a.createElement(T,{list:c,handleClick:s,eventType:"add"}),a.a.createElement("div",{className:"bottom-bar"},a.a.createElement("h4",{className:"bottom-header"},"My List : "),a.a.createElement(T,{list:n,eventType:"titleOnly"})))})),N=(n(25),Object(o.d)(O,C,Object(o.a)(s.a,h)));c.a.render(a.a.createElement(l.a,{store:N},a.a.createElement(M,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.11a82cc4.chunk.js.map